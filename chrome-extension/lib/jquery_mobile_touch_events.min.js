(function(a,h,m){function i(c,b,d){var f=d.type;d.type=b;a.event.handle.call(c,d);d.type=f}a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(c,b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};a.attrFn[b]=!0});var n=(h="ontouchend"in document)?"touchstart":"mousedown",o=h?"touchend":"mouseup",j=h?"touchmove":"mousemove";a.event.special.scrollstart={enabled:!0,setup:function(){function c(a,c){d=c;i(b,d?"scrollstart":
"scrollstop",a)}var b=this,d,f;a(b).bind("touchmove scroll",function(b){a.event.special.scrollstart.enabled&&(d||c(b,!0),clearTimeout(f),f=setTimeout(function(){c(b,!1)},50))})}};a.event.special.tap={tapholdThreshold:750,setup:function(){var c=this,b=a(c);b.bind("vmousedown",function(d){function f(){clearTimeout(k)}function e(){f();b.unbind("vclick",g).unbind("vmouseup",f);a(document).unbind("vmousecancel",e)}function g(a){e();l==a.target&&i(c,"tap",a)}if(d.which&&d.which!==1)return!1;var l=d.target,
k;b.bind("vmouseup",f).bind("vclick",g);a(document).bind("vmousecancel",e);k=setTimeout(function(){i(c,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var c=a(this);c.bind(n,function(b){function d(b){if(e){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;g={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};
Math.abs(e.coords[0]-g.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var f=b.originalEvent.touches?b.originalEvent.touches[0]:b,e={time:(new Date).getTime(),coords:[f.pageX,f.pageY],origin:a(b.target)},g;c.bind(j,d).one(o,function(){c.unbind(j,d);e&&g&&g.time-e.time<a.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-g.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-g.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&
e.origin.trigger("swipe").trigger(e.coords[0]>g.coords[0]?"swipeleft":"swiperight");e=g=m})})}};a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(c,b){a.event.special[c]={setup:function(){a(this).bind(b,a.noop)}}})})(jQuery,this);
