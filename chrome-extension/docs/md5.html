<!DOCTYPE html>  <html> <head>   <title>md5.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="plugins.html">                 plugins.js               </a>                                           <a class="source" href="web_plugins.html">                 web_plugins.js               </a>                                           <a class="source" href="alternate_style_tag_selector.html">                 alternate_style_tag_selector.js               </a>                                           <a class="source" href="audioClipPlayer.html">                 audioClipPlayer.js               </a>                                           <a class="source" href="epub.html">                 epub.js               </a>                                           <a class="source" href="epub_controller.html">                 epub_controller.js               </a>                                           <a class="source" href="ibooks_options_parser.html">                 ibooks_options_parser.js               </a>                                           <a class="source" href="manifest_item.html">                 manifest_item.js               </a>                                           <a class="source" href="mediaOverlay.html">                 mediaOverlay.js               </a>                                           <a class="source" href="options_presenter.html">                 options_presenter.js               </a>                                           <a class="source" href="packageDocument.html">                 packageDocument.js               </a>                                           <a class="source" href="package_document_parser.html">                 package_document_parser.js               </a>                                           <a class="source" href="page_number_display_logic.html">                 page_number_display_logic.js               </a>                                           <a class="source" href="pagination_strategy_selector.html">                 pagination_strategy_selector.js               </a>                                           <a class="source" href="path_resolver.html">                 path_resolver.js               </a>                                           <a class="source" href="readium_options.html">                 readium_options.js               </a>                                           <a class="source" href="readium_pagination.html">                 readium_pagination.js               </a>                                           <a class="source" href="smilModel.html">                 smilModel.js               </a>                                           <a class="source" href="toc.html">                 toc.js               </a>                                           <a class="source" href="trigger.html">                 trigger.js               </a>                                           <a class="source" href="validated_package_meta_data.html">                 validated_package_meta_data.js               </a>                                           <a class="source" href="crx_library_namespace.html">                 crx_library_namespace.js               </a>                                           <a class="source" href="crx_viewer_namespace.html">                 crx_viewer_namespace.js               </a>                                           <a class="source" href="ws_lib_namespace.html">                 ws_lib_namespace.js               </a>                                           <a class="source" href="crx_library_router.html">                 crx_library_router.js               </a>                                           <a class="source" href="crx_viewer_router.html">                 crx_viewer_router.js               </a>                                           <a class="source" href="ws_router.html">                 ws_router.js               </a>                                           <a class="source" href="bb_file_system_sync.html">                 bb_file_system_sync.js               </a>                                           <a class="source" href="cookie_utils.html">                 cookie_utils.js               </a>                                           <a class="source" href="handlebars_helpers.html">                 handlebars_helpers.js               </a>                                           <a class="source" href="local_storage_sync.html">                 local_storage_sync.js               </a>                                           <a class="source" href="md5.html">                 md5.js               </a>                                           <a class="source" href="user_agent_utils.html">                 user_agent_utils.js               </a>                                           <a class="source" href="nav_widget_view.html">                 nav_widget_view.js               </a>                                           <a class="source" href="options_view.html">                 options_view.js               </a>                                           <a class="source" href="toc_view.html">                 toc_view.js               </a>                                           <a class="source" href="toolbar_view.html">                 toolbar_view.js               </a>                                           <a class="source" href="httpFileApi.html">                 httpFileApi.js               </a>                                           <a class="source" href="library.html">                 library.js               </a>                                           <a class="source" href="viewer.html">                 viewer.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               md5.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/**</span>
<span class="cm">*</span>
<span class="cm">*  MD5 (Message-Digest Algorithm)</span>
<span class="cm">*  http://www.webtoolkit.info/</span>
<span class="cm">*</span>
<span class="cm">**/</span>
<span class="nx">Readium</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">MD5</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
 
	<span class="kd">function</span> <span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">lValue</span><span class="p">,</span> <span class="nx">iShiftBits</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span><span class="nx">lValue</span><span class="o">&lt;&lt;</span><span class="nx">iShiftBits</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">lValue</span><span class="o">&gt;&gt;&gt;</span><span class="p">(</span><span class="mi">32</span><span class="o">-</span><span class="nx">iShiftBits</span><span class="p">));</span>
	<span class="p">}</span>
 
	<span class="kd">function</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">lX</span><span class="p">,</span><span class="nx">lY</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">lX4</span><span class="p">,</span><span class="nx">lY4</span><span class="p">,</span><span class="nx">lX8</span><span class="p">,</span><span class="nx">lY8</span><span class="p">,</span><span class="nx">lResult</span><span class="p">;</span>
		<span class="nx">lX8</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lX</span> <span class="o">&amp;</span> <span class="mh">0x80000000</span><span class="p">);</span>
		<span class="nx">lY8</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lY</span> <span class="o">&amp;</span> <span class="mh">0x80000000</span><span class="p">);</span>
		<span class="nx">lX4</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lX</span> <span class="o">&amp;</span> <span class="mh">0x40000000</span><span class="p">);</span>
		<span class="nx">lY4</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lY</span> <span class="o">&amp;</span> <span class="mh">0x40000000</span><span class="p">);</span>
		<span class="nx">lResult</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lX</span> <span class="o">&amp;</span> <span class="mh">0x3FFFFFFF</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">lY</span> <span class="o">&amp;</span> <span class="mh">0x3FFFFFFF</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">lX4</span> <span class="o">&amp;</span> <span class="nx">lY4</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">(</span><span class="nx">lResult</span> <span class="o">^</span> <span class="mh">0x80000000</span> <span class="o">^</span> <span class="nx">lX8</span> <span class="o">^</span> <span class="nx">lY8</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">lX4</span> <span class="o">|</span> <span class="nx">lY4</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">lResult</span> <span class="o">&amp;</span> <span class="mh">0x40000000</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="p">(</span><span class="nx">lResult</span> <span class="o">^</span> <span class="mh">0xC0000000</span> <span class="o">^</span> <span class="nx">lX8</span> <span class="o">^</span> <span class="nx">lY8</span><span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">return</span> <span class="p">(</span><span class="nx">lResult</span> <span class="o">^</span> <span class="mh">0x40000000</span> <span class="o">^</span> <span class="nx">lX8</span> <span class="o">^</span> <span class="nx">lY8</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">(</span><span class="nx">lResult</span> <span class="o">^</span> <span class="nx">lX8</span> <span class="o">^</span> <span class="nx">lY8</span><span class="p">);</span>
		<span class="p">}</span>
 	<span class="p">}</span>
 
 	<span class="kd">function</span> <span class="nx">F</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&amp;</span> <span class="nx">y</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="o">~</span><span class="nx">x</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nx">z</span><span class="p">);</span> <span class="p">}</span>
 	<span class="kd">function</span> <span class="nx">G</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&amp;</span> <span class="nx">z</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="nx">z</span><span class="p">));</span> <span class="p">}</span>
 	<span class="kd">function</span> <span class="nx">H</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">(</span><span class="nx">x</span> <span class="o">^</span> <span class="nx">y</span> <span class="o">^</span> <span class="nx">z</span><span class="p">);</span> <span class="p">}</span>
	<span class="kd">function</span> <span class="nx">I</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">(</span><span class="nx">y</span> <span class="o">^</span> <span class="p">(</span><span class="nx">x</span> <span class="o">|</span> <span class="p">(</span><span class="o">~</span><span class="nx">z</span><span class="p">)));</span> <span class="p">}</span>
 
	<span class="kd">function</span> <span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="o">=</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">F</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">),</span> <span class="nx">x</span><span class="p">),</span> <span class="nx">ac</span><span class="p">));</span>
		<span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">s</span><span class="p">),</span> <span class="nx">b</span><span class="p">);</span>
	<span class="p">};</span>
 
	<span class="kd">function</span> <span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="o">=</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">G</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">),</span> <span class="nx">x</span><span class="p">),</span> <span class="nx">ac</span><span class="p">));</span>
		<span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">s</span><span class="p">),</span> <span class="nx">b</span><span class="p">);</span>
	<span class="p">};</span>
 
	<span class="kd">function</span> <span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="o">=</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">H</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">),</span> <span class="nx">x</span><span class="p">),</span> <span class="nx">ac</span><span class="p">));</span>
		<span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">s</span><span class="p">),</span> <span class="nx">b</span><span class="p">);</span>
	<span class="p">};</span>
 
	<span class="kd">function</span> <span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">a</span> <span class="o">=</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">I</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">),</span> <span class="nx">x</span><span class="p">),</span> <span class="nx">ac</span><span class="p">));</span>
		<span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">s</span><span class="p">),</span> <span class="nx">b</span><span class="p">);</span>
	<span class="p">};</span>
 
	<span class="kd">function</span> <span class="nx">ConvertToWordArray</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">lWordCount</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">lMessageLength</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">lNumberOfWords_temp1</span><span class="o">=</span><span class="nx">lMessageLength</span> <span class="o">+</span> <span class="mi">8</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">lNumberOfWords_temp2</span><span class="o">=</span><span class="p">(</span><span class="nx">lNumberOfWords_temp1</span><span class="o">-</span><span class="p">(</span><span class="nx">lNumberOfWords_temp1</span> <span class="o">%</span> <span class="mi">64</span><span class="p">))</span><span class="o">/</span><span class="mi">64</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">lNumberOfWords</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lNumberOfWords_temp2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">lWordArray</span><span class="o">=</span><span class="nb">Array</span><span class="p">(</span><span class="nx">lNumberOfWords</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">lBytePosition</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">lByteCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">while</span> <span class="p">(</span> <span class="nx">lByteCount</span> <span class="o">&lt;</span> <span class="nx">lMessageLength</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">lWordCount</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lByteCount</span><span class="o">-</span><span class="p">(</span><span class="nx">lByteCount</span> <span class="o">%</span> <span class="mi">4</span><span class="p">))</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span>
			<span class="nx">lBytePosition</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lByteCount</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="p">;</span>
			<span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span> <span class="o">|</span> <span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">lByteCount</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="nx">lBytePosition</span><span class="p">));</span>
			<span class="nx">lByteCount</span><span class="o">++</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">lWordCount</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lByteCount</span><span class="o">-</span><span class="p">(</span><span class="nx">lByteCount</span> <span class="o">%</span> <span class="mi">4</span><span class="p">))</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span>
		<span class="nx">lBytePosition</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lByteCount</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="p">;</span>
		<span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span> <span class="o">|</span> <span class="p">(</span><span class="mh">0x80</span><span class="o">&lt;&lt;</span><span class="nx">lBytePosition</span><span class="p">);</span>
		<span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lNumberOfWords</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lMessageLength</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">;</span>
		<span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lNumberOfWords</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lMessageLength</span><span class="o">&gt;&gt;&gt;</span><span class="mi">29</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">lWordArray</span><span class="p">;</span>
	<span class="p">};</span>
 
	<span class="kd">function</span> <span class="nx">WordToHex</span><span class="p">(</span><span class="nx">lValue</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">WordToHexValue</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">WordToHexValue_temp</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">lByte</span><span class="p">,</span><span class="nx">lCount</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="nx">lCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">lCount</span><span class="o">&lt;=</span><span class="mi">3</span><span class="p">;</span><span class="nx">lCount</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">lByte</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lValue</span><span class="o">&gt;&gt;&gt;</span><span class="p">(</span><span class="nx">lCount</span><span class="o">*</span><span class="mi">8</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mi">255</span><span class="p">;</span>
			<span class="nx">WordToHexValue_temp</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">+</span> <span class="nx">lByte</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
			<span class="nx">WordToHexValue</span> <span class="o">=</span> <span class="nx">WordToHexValue</span> <span class="o">+</span> <span class="nx">WordToHexValue_temp</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">WordToHexValue_temp</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">WordToHexValue</span><span class="p">;</span>
	<span class="p">};</span>
 
	<span class="kd">function</span> <span class="nx">Utf8Encode</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">string</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\r\n/g</span><span class="p">,</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">utftext</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
 
		<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">n</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
 
			<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
 
			<span class="k">if</span> <span class="p">(</span><span class="nx">c</span> <span class="o">&lt;</span> <span class="mi">128</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">utftext</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span><span class="p">((</span><span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">127</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">c</span> <span class="o">&lt;</span> <span class="mi">2048</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">utftext</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">((</span><span class="nx">c</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="mi">192</span><span class="p">);</span>
				<span class="nx">utftext</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">((</span><span class="nx">c</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">|</span> <span class="mi">128</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="p">{</span>
				<span class="nx">utftext</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">((</span><span class="nx">c</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">|</span> <span class="mi">224</span><span class="p">);</span>
				<span class="nx">utftext</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(((</span><span class="nx">c</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">|</span> <span class="mi">128</span><span class="p">);</span>
				<span class="nx">utftext</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">((</span><span class="nx">c</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">|</span> <span class="mi">128</span><span class="p">);</span>
			<span class="p">}</span>
 
		<span class="p">}</span>
 
		<span class="k">return</span> <span class="nx">utftext</span><span class="p">;</span>
	<span class="p">};</span>
 
	<span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nb">Array</span><span class="p">();</span>
	<span class="kd">var</span> <span class="nx">k</span><span class="p">,</span><span class="nx">AA</span><span class="p">,</span><span class="nx">BB</span><span class="p">,</span><span class="nx">CC</span><span class="p">,</span><span class="nx">DD</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">S11</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="nx">S12</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="nx">S13</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="nx">S14</span><span class="o">=</span><span class="mi">22</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">S21</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="nx">S22</span><span class="o">=</span><span class="mi">9</span> <span class="p">,</span> <span class="nx">S23</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="nx">S24</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">S31</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="nx">S32</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="nx">S33</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="nx">S34</span><span class="o">=</span><span class="mi">23</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">S41</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="nx">S42</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="nx">S43</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="nx">S44</span><span class="o">=</span><span class="mi">21</span><span class="p">;</span>
 
	<span class="nx">string</span> <span class="o">=</span> <span class="nx">Utf8Encode</span><span class="p">(</span><span class="nx">string</span><span class="p">);</span>
 
	<span class="nx">x</span> <span class="o">=</span> <span class="nx">ConvertToWordArray</span><span class="p">(</span><span class="nx">string</span><span class="p">);</span>
 
	<span class="nx">a</span> <span class="o">=</span> <span class="mh">0x67452301</span><span class="p">;</span> <span class="nx">b</span> <span class="o">=</span> <span class="mh">0xEFCDAB89</span><span class="p">;</span> <span class="nx">c</span> <span class="o">=</span> <span class="mh">0x98BADCFE</span><span class="p">;</span> <span class="nx">d</span> <span class="o">=</span> <span class="mh">0x10325476</span><span class="p">;</span>
 
	<span class="k">for</span> <span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">+=</span><span class="mi">16</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">AA</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span> <span class="nx">BB</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span> <span class="nx">CC</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span> <span class="nx">DD</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span> <span class="nx">S11</span><span class="p">,</span><span class="mh">0xD76AA478</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="nx">S12</span><span class="p">,</span><span class="mh">0xE8C7B756</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="nx">S13</span><span class="p">,</span><span class="mh">0x242070DB</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span> <span class="nx">S14</span><span class="p">,</span><span class="mh">0xC1BDCEEE</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span> <span class="nx">S11</span><span class="p">,</span><span class="mh">0xF57C0FAF</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span> <span class="nx">S12</span><span class="p">,</span><span class="mh">0x4787C62A</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span> <span class="nx">S13</span><span class="p">,</span><span class="mh">0xA8304613</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span> <span class="nx">S14</span><span class="p">,</span><span class="mh">0xFD469501</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span> <span class="nx">S11</span><span class="p">,</span><span class="mh">0x698098D8</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span> <span class="nx">S12</span><span class="p">,</span><span class="mh">0x8B44F7AF</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S13</span><span class="p">,</span><span class="mh">0xFFFF5BB1</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S14</span><span class="p">,</span><span class="mh">0x895CD7BE</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S11</span><span class="p">,</span><span class="mh">0x6B901122</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S12</span><span class="p">,</span><span class="mh">0xFD987193</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S13</span><span class="p">,</span><span class="mh">0xA679438E</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S14</span><span class="p">,</span><span class="mh">0x49B40821</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="nx">S21</span><span class="p">,</span><span class="mh">0xF61E2562</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span> <span class="nx">S22</span><span class="p">,</span><span class="mh">0xC040B340</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S23</span><span class="p">,</span><span class="mh">0x265E5A51</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span> <span class="nx">S24</span><span class="p">,</span><span class="mh">0xE9B6C7AA</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span> <span class="nx">S21</span><span class="p">,</span><span class="mh">0xD62F105D</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S22</span><span class="p">,</span><span class="mh">0x2441453</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S23</span><span class="p">,</span><span class="mh">0xD8A1E681</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span> <span class="nx">S24</span><span class="p">,</span><span class="mh">0xE7D3FBC8</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span> <span class="nx">S21</span><span class="p">,</span><span class="mh">0x21E1CDE6</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S22</span><span class="p">,</span><span class="mh">0xC33707D6</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span> <span class="nx">S23</span><span class="p">,</span><span class="mh">0xF4D50D87</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span> <span class="nx">S24</span><span class="p">,</span><span class="mh">0x455A14ED</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S21</span><span class="p">,</span><span class="mh">0xA9E3E905</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="nx">S22</span><span class="p">,</span><span class="mh">0xFCEFA3F8</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span> <span class="nx">S23</span><span class="p">,</span><span class="mh">0x676F02D9</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S24</span><span class="p">,</span><span class="mh">0x8D2A4C8A</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span> <span class="nx">S31</span><span class="p">,</span><span class="mh">0xFFFA3942</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span> <span class="nx">S32</span><span class="p">,</span><span class="mh">0x8771F681</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S33</span><span class="p">,</span><span class="mh">0x6D9D6122</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S34</span><span class="p">,</span><span class="mh">0xFDE5380C</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="nx">S31</span><span class="p">,</span><span class="mh">0xA4BEEA44</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span> <span class="nx">S32</span><span class="p">,</span><span class="mh">0x4BDECFA9</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span> <span class="nx">S33</span><span class="p">,</span><span class="mh">0xF6BB4B60</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S34</span><span class="p">,</span><span class="mh">0xBEBFBC70</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S31</span><span class="p">,</span><span class="mh">0x289B7EC6</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span> <span class="nx">S32</span><span class="p">,</span><span class="mh">0xEAA127FA</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span> <span class="nx">S33</span><span class="p">,</span><span class="mh">0xD4EF3085</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span> <span class="nx">S34</span><span class="p">,</span><span class="mh">0x4881D05</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span> <span class="nx">S31</span><span class="p">,</span><span class="mh">0xD9D4D039</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S32</span><span class="p">,</span><span class="mh">0xE6DB99E5</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S33</span><span class="p">,</span><span class="mh">0x1FA27CF8</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="nx">S34</span><span class="p">,</span><span class="mh">0xC4AC5665</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span> <span class="nx">S41</span><span class="p">,</span><span class="mh">0xF4292244</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span> <span class="nx">S42</span><span class="p">,</span><span class="mh">0x432AFF97</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S43</span><span class="p">,</span><span class="mh">0xAB9423A7</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span> <span class="nx">S44</span><span class="p">,</span><span class="mh">0xFC93A039</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S41</span><span class="p">,</span><span class="mh">0x655B59C3</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span> <span class="nx">S42</span><span class="p">,</span><span class="mh">0x8F0CCC92</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S43</span><span class="p">,</span><span class="mh">0xFFEFF47D</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="nx">S44</span><span class="p">,</span><span class="mh">0x85845DD1</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span> <span class="nx">S41</span><span class="p">,</span><span class="mh">0x6FA87E4F</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S42</span><span class="p">,</span><span class="mh">0xFE2CE6E0</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span> <span class="nx">S43</span><span class="p">,</span><span class="mh">0xA3014314</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S44</span><span class="p">,</span><span class="mh">0x4E0811A1</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span> <span class="nx">S41</span><span class="p">,</span><span class="mh">0xF7537E82</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S42</span><span class="p">,</span><span class="mh">0xBD3AF235</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="nx">S43</span><span class="p">,</span><span class="mh">0x2AD7D2BB</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span> <span class="nx">S44</span><span class="p">,</span><span class="mh">0xEB86D391</span><span class="p">);</span>
		<span class="nx">a</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">AA</span><span class="p">);</span>
		<span class="nx">b</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">BB</span><span class="p">);</span>
		<span class="nx">c</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">CC</span><span class="p">);</span>
		<span class="nx">d</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">DD</span><span class="p">);</span>
	<span class="p">}</span>
 
	<span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">WordToHex</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">+</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">+</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span>
 
	<span class="k">return</span> <span class="nx">temp</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
<span class="p">}</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 